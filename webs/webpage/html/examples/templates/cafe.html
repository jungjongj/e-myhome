<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Test Mvc</title>

    <link rel="stylesheet" href="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/aMvc/lib/css/font-awesome.min.css">
    <link rel="stylesheet" href="/aMvc/lib/summernote-0.8.18-dist/summernote-lite.min.css">
    <link rel="stylesheet" href="/aMvc/lib/css/da-style.css?s=31">

    <script src="/aMvc/lib/jquery/jquery-2.1.2.min.js"></script>
    <script src="/aMvc/lib/jquery/jquery-ui.min.js"></script>
    <script src="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/js/bootstrap.bundle.min.js"></script>
    <script src="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/js/bootstrap.min.js"></script>
    <script src="/aMvc/lib/summernote-0.8.18-dist/summernote-lite.min.js"></script>

    <script src="/aMvc/lib/js/da-globallib.js?"></script>

    <script src="/aMvc/base/boardAjaxBase.js?3"></script>
    <script src="/aMvc/base/viewLibBase.js?91"></script>
    <script src="/aMvc/base/templateBase.js?"></script>

    <script type="text/javascript">

<<<<<<< HEAD
        document.title = '카페';
        var _dbpath = "example.dadb", _code = "da_board", _topmenu = "_topmenu",
            _sidemenu = "_sidemenu", _carousel = "_carousel", _rendertype = "table";
=======
        var _dbpath = "example.dadb", _code = "da_board", _brdid, _groupid;
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03

        function urlsplit() {
            var dec = decodeURI(location.href);
            var url = unescape(dec);
            var pm = url.split('?');
<<<<<<< HEAD
            console.log(url);
=======
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
            if (pm && pm[1]) {
                var params = pm[1].split('&');
                for (var i = 0; i < params.length; i++) {
                    var param = params[i].split('=');
                    if (param && param[1]) {
                        if (param[0] == "dbpath")
                            _dbpath = param[1];
                        else if (param[0] == "code")
                            _code = param[1];
<<<<<<< HEAD
                        else if (param[0] == "topmenu")
                            _topmenu = param[1];
                        else if (param[0] == "sidemenu")
                            _sidemenu = param[1];
                        else if (param[0] == "carousel")
                            _carousel = param[1];
                        else if (param[0] == "rendertype")
                            _rendertype = param[1];
                    }
=======
                        else if (param[0] == "brdid")
                            _brdid = param[1];
                        else if (param[0] == "groupid")
                            _groupid = param[1];
                        
                    }

>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
                }
            }
        }

        class CafeTemplate {
<<<<<<< HEAD
            
            constructor(arg) {
                this.arg = arg;
                this.init();
            }

            init() {
                var main = new MainLayout();
                var ver = new VerticalLayout();
=======
            constructor(info) {
                this.info = info;
            }

            createCafeTemplate() {
                var elem = document.createElement('div');
                document.body.appendChild(elem);

                var main = new MainLayout();
                var ver = new VerticalLayout();
                var ver2 = new VerticalLayout();
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
                var hor = new HorizontalLayout();

                main.addControl(ver);
                main.addControl(hor);

<<<<<<< HEAD
                var topconfig = {
                    dbpath: _dbpath,
                    kcode: '_topmenu',
                    kname: _topmenu,
                    renderview: 'TopMenuView'
                }
                var topElem = new KeyvalueController(topconfig);
                ver.addControl(topElem);
                console.log(_topmenu);
                var carouselconfig = {
                    dbpath: _dbpath,
                    kcode: '_carousel',
                    kname: _carousel,
                    renderview: 'CarouselView',
                    rendertype: _rendertype
                }
                var carouselElem = new KeyvalueController(carouselconfig);
                ver.addControl(carouselElem);

                var sideconfig = {
                    dbpath: _dbpath,
                    kcode: '_sidemenu',
                    kname: _sidemenu,
                    renderview: 'SideMenuView',
                    rendertype: _rendertype
                }
                var sideElem = new KeyvalueController(sideconfig);
                hor.addControl([sideElem, 4]);

                var arg = {
                    type: 'boardlist',
                    dbpath: _dbpath,
                    code: _code,
                    brdid: 3,
                    renderview: new BoardView(),
                    rendertype: 'media'
                }
                var boardElem = new BoardController(arg);
                //var board = new BoardController({ type: 'boardlist', dbpath: this.info.dbpath, code: this.info.code, brdid: 3, renderview: new BoardView(), rendertype: 'table' });
                hor.addControl([boardElem, 8]);

                main.renderController(this.arg.elem);
=======
                var topmenuconfig = {
                    type: 'set',
                    dbpath: _dbpath,
                    kcode: '_topmenu',
                    kname: 'cafe',
                    renderview: 'TopMenuView',
                    rendertype: 'table'
                }

                var c = new KeyvalueController(topmenuconfig);
                ver.addControl(c);

                var carouselconfig = {
                    type: 'set',
                    dbpath: _dbpath,
                    kcode: '_carousel',
                    kname: 'cafe',
                    renderview: 'CarouselView',
                    rendertype: 'table'
                }

                var c = new KeyvalueController(carouselconfig);
                ver.addControl(c);

                var sidemenuconfig = {
                    type: 'set',
                    dbpath: _dbpath,
                    kcode: '_sidemenu',
                    kname: 'cafe',
                    renderview: 'SideMenuView',
                    rendertype: 'table'
                }

                var c1 = new KeyvalueController(sidemenuconfig);
                //ver.addControl(c1);

                var config = {
                    type: 'boardlist',
                    dbpath: _dbpath,
                    code: _code,
                    brdid: _brdid,
                    groupid: _groupid,
                    renderview: 'BoardView',
                    rendertype: 'table'
                }
                var c2 = new BoardController(config);
                //ver.addControl(c2);

                hor.setControl([c1, 4], [c2, 8]);

                main.renderController(elem);

>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
            }
        }

        $(document).ready(function () {
            urlsplit();

<<<<<<< HEAD
            var c = new CafeTemplate({ elem: document.getElementById('cafe') });
            
=======
            var c = new CafeTemplate();
            c.createCafeTemplate();

>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
        });


    </script>
</head>
<body>
<<<<<<< HEAD
    <da include="/eHome/navbarEHome.html?"></da>

    <div class="row">
        <div class="col-3">
            <div id="main-logform"></div>

            <da include="/eHome/sideMenuExample.html?"></da>
        </div>
        <div class="col-9">
            <div id="cafe"></div>
        </div>
    </div>

    <da include="/html/module/footer.html"></da>
=======
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
    
</body>
</html>