<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Transitions - jQuery Mobile Demos</title>
    <link rel="stylesheet" href="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/aMvc/lib/css/font-awesome.min.css">
    <link rel="stylesheet" href="/aMvc/lib/summernote-0.8.18-dist/summernote-lite.min.css">
    <link rel="stylesheet" href="/aMvc/lib/css/da-style.css?s=31">

    <script src="/aMvc/lib/jquery/jquery-2.1.2.min.js"></script>
    <script src="/aMvc/lib/jquery/jquery-ui.min.js"></script>
    <script src="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/js/bootstrap.bundle.min.js"></script>
    <script src="/aMvc/lib/bootstrap/bootstrap-4.6.1-dist/js/bootstrap.min.js"></script>
    <script src="/aMvc/lib/summernote-0.8.18-dist/summernote-lite.min.js"></script>

    <script src="/aMvc/lib/js/da-globallib.js?"></script>

    <script src="/aMvc/base/boardAjaxBase.js?3"></script>
    <script src="/aMvc/base/viewLibBase.js?91"></script>
    <script src="/aMvc/base/templateBase.js?3"></script>

</head>
<body class="container" id="a">
<<<<<<< HEAD

    <da include="/eHome/navbarEHome.html?"></da>

    <div class="row">
        <div class="col-3">
            <div id="main-logform"></div>

            <da include="/eHome/sideMenuExample.html?"></da>
        </div>
        <div class="col-9">
            <div id="chat"></div>
        </div>
    </div>

    <da include="/html/module/footer.html"></da>

=======
    
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link active" id="close"  onclick="onBtnClick(this)">Close<span class="sr-only">(current)</span></a>
                <a class="nav-link active" id="offer" onclick="onBtnClick(this)">Offer</a>
            </div>
        </div>
    </nav>
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
    <script type="text/javascript">
        var _serverip = null;
        var signaling = null;
        function onBtnClick(e) {
            var id = e.id;
            if (id == 'close') {
                signaling.closeMsg();
            } else if (id == 'offer') {
                signaling.rtcOffer();
                console.log("keyCon=======" + keyCon);
            }
<<<<<<< HEAD

        }


=======
            
        }

        
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
        $(document).ready(function () {
            var url = unescape(location.href);
            console.log('url == ', url);
            if (url.indexOf('localhost') == -1) {
                console.log('localhost move');
                location.href = 'http://localhost:7777/html/examples/chats/RtcConnect.html';
            } else {
                var pm = url.split('?');
                console.log('url == ', url);
                if (pm && pm[1]) {
                    var params = pm[1].split('&');
                    for (var i = 0; i < params.length; i++) {
                        var param = params[i].split('=');
                        if (param && param[1]) {
                            if (param[0] == "serverip")
                                _serverip = param[1];
                            else if (param[0] == "code")
                                $('#code').val(param[1]);

                        }
                    }
                }

                if (_serverip == null) {
                    console.log('serverip == null');
                    fetch('/getip.utils?type=pubkey')
                        .then((response) => response.text())
                        .then(data => {
                            var xmlDoc = $.parseXML(data);
                            $(xmlDoc).find('Records').each(function (index) {

                                _serverip = $(this).find('serverip').text();
                                _myip = $(this).find('yourip').text();

                                console.log('_myip=' + _myip);
                                console.log('_serverip=' + _serverip);
<<<<<<< HEAD
                                var elem = document.getElementById('chat');
                                signaling = new RtcSignalingChat({ server_url: null });
                                signaling.renderController(elem);
=======
                                signaling = new RtcSignalingChat({ server_url: null });
                                signaling.renderController(document.body);
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
                            });
                        })// 에러처리
                        .catch(() => {
                            console.log('에러')
                        });
                }
            }
<<<<<<< HEAD

=======
            
>>>>>>> 559d578f738e1570358e9f175294452477d6fc03
        });
    </script>
</body>
</html>
